// Generated by CoffeeScript 1.7.1
var DidGetPeopleDetailData, FailGetPeopleDetailData;

$(document).on("deviceready", function() {
  var actionbar;
  actionbar = template("public/ActionBar");
  $("body").html(actionbar());
  $(".actionbar .channel").addClass("hide");
  $(".actionbar .slide-menu").addClass("hide");
  window.nickname = getQueryString("nickname");
  RequestAjax("GET", "/mj/people/" + (unescape(window.nickname)), {}, DidGetPeopleDetailData, FailGetPeopleDetailData);
});

DidGetPeopleDetailData = function(data, rawData) {
  var peopledetail;
  peopledetail = template("People/Detail");
  $(".spinner").replaceWith(peopledetail(data.Data));
  $(".actionbar .page-title").text(unescape(window.nickname));
  $(".actionbar").children(".center").css("left", ($(window).width() - $(".actionbar .center").children(".page-title").width()) / 2);
  $(".book").each(function(index) {
    $(this).find(".bookCover").height($(this).find(".bookCover").width() * 4 / 3);
  });
};

FailGetPeopleDetailData = function(data, rawData) {};
